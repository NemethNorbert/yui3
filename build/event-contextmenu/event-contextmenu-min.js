YUI.add("event-contextmenu",function(h,e){var a=h.Event,p=h.DOM,t=h.UA,n=h.UA.os,r=t.ie,u=t.gecko,Y=t.webkit,X=t.opera,v="windows"===n,m="macintosh"===n,y={},n={on:function(s,e,g,t){var n=[];n.push(a._attach(["contextmenu",function(e){e.preventDefault();var t=h.stamp(s),n=y[t];n&&(e.clientX=n.clientX,e.clientY=n.clientY,e.pageX=n.pageX,e.pageY=n.pageY,delete y[t]),g.fire(e)},s])),n.push(s[t?"delegate":"on"]("keydown",function(e){var t=this.getDOMNode(),n=e.shiftKey,a=e.keyCode,c=n&&121==a,i=v&&93==a,o=e.ctrlKey,d=77===a,l=m&&(Y||u)&&o&&n&&e.altKey&&d,f=m&&X&&o&&n&&d,a=0,o=0;(v&&(c||i)||l||f)&&(((r||v&&(u||X))&&c||f)&&e.preventDefault(),d=(n=p.getXY(t))[0],l=n[1],f=p.docScrollX(),n=p.docScrollY(),h.Lang.isUndefined(d)||(a=d+t.offsetWidth/2-f,o=l+t.offsetHeight/2-n),f=a+f,n=o+n,(i||v&&Y&&c)&&(y[h.stamp(s)]={clientX:a,clientY:o,pageX:f,pageY:n}),((r||v&&(u||X))&&c||m)&&(e.clientX=a,e.clientY=o,e.pageX=f,e.pageY=n,g.fire(e)))},t)),e._handles=n},detach:function(e,t,n){h.each(t._handles,function(e){e.detach()})}};n.delegate=n.on,n.detachDelegate=n.detach,a.define("contextmenu",n,!0)},"@VERSION@",{requires:["event-synthetic","dom-screen"]});