YUI.add("dataschema-text",function(o,e){var t=o.Lang,g=t.isString,S=t.isUndefined,i={apply:function(e,t){var r=t,a={results:[],meta:{}};return g(t)&&e&&g(e.resultDelimiter)?a=i._parseResults.call(this,e,r,a):a.error=new Error("Text schema parse failure"),a},_parseResults:function(e,t,r){var a,i,l,s,n,u,m,c=e.resultDelimiter,h=g(e.fieldDelimiter)&&e.fieldDelimiter,f=e.resultFields||[],d=[],D=o.DataSchema.Base.parse,p=(t=t.slice(-c.length)===c?t.slice(0,-c.length):t).split(e.resultDelimiter);if(h)for(u=p.length-1;0<=u;--u){for(i={},a=p[u].split(e.fieldDelimiter),m=f.length-1;0<=m;--m)l=f[m],s=S(l.key)?l:l.key,n=S(a[s])?a[m]:a[s],i[s]=D.call(this,n,l);d[u]=i}else d=p;return r.results=d,r}};o.DataSchema.Text=o.mix(i,o.DataSchema.Base)},"@VERSION@",{requires:["dataschema-base"]});