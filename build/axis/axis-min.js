YUI.add("axis",function(r,t){var e,i,a,f=r.config.doc,g=r.Lang,s=g.isString,c=r.DOM,n=function(){};n.prototype={_getDefaultMargins:function(){return{top:0,left:0,right:4,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("topTickOffset",0),t.set("bottomTickOffset",0),e){case"inside":t.set("rightTickOffset",i),t.set("leftTickOffset",0);break;case"outside":t.set("rightTickOffset",0),t.set("leftTickOffset",i);break;case"cross":t.set("rightTickOffset",a),t.set("leftTickOffset",a);break;default:t.set("rightTickOffset",0),t.set("leftTickOffset",0)}},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,i={x:a.left,y:e.y},e={x:s+a.left,y:e.y};this.drawLine(t,i,e)},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,t=i.length,i=i.display,e={x:e.left,y:0};return"outside"===i?e.x+=t:"cross"===i&&(e.x+=t/2),e},getLabelPoint:function(t){return{x:t.x-this.get("leftTickOffset"),y:t.y}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,n=i.sinRadians,i=i.cosRadians,e=0===a?t:90===s?e:i*t+n*e;this._maxLabelSize=Math.max(this._maxLabelSize,e)},getExplicitlySized:function(t){if(this._explicitWidth){var e=this,i=e._explicitWidth,a=e._totalTitleSize,s=e.get("leftTickOffset"),t=t.label.margin.right;return e._maxLabelSize=i-(s+t+a),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=i.right-i.left,l=t.offsetWidth,o=t.offsetHeight,i=-.5*l+.5*n,n=.5*e.get("height")-.5*o;s.labelWidth=l,s.labelHeight=o,a&&a.left&&(i+=a.left),s.x=i,s.y=n,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),n=this.get("leftTickOffset"),l=this._totalTitleSize,o=e.x+l-n,h=e.y,r=this._labelRotationProps,i=r.rot,l=r.absRot,n=this._maxLabelSize,e=this._labelWidths[a],a=this._labelHeights[a];0===i?(o-=e,h-=a*s):90===i?(o-=.5*e,h=h+e/2-e*s):-90===i?(o-=.5*e,h=h-a+e/2-e*s):(o-=e+a*l/360,h-=a*s),r.labelWidth=e,r.labelHeight=a,r.x=Math.round(n+o),r.y=Math.round(h),this._rotate(t,r)},_setRotationCoords:function(t){var e,i,a=t.rot,s=t.absRot,n=t.labelWidth,l=t.labelHeight;0===a?(e=n,i=.5*l):90===a?(i=0,e=.5*n):i=-90===a?(e=.5*n,l):(e=n+l*s/360,.5*l),t.x-=e,t.y-=i},_getTransformOrigin:function(t){t=0===t?[0,0]:90===t?[.5,0]:-90===t?[.5,1]:[1,.5];return t},offsetNodeForTick:function(){},setCalculatedSize:function(){var t=this.get("graphic"),e=this.get("styles").label,i=this.get("leftTickOffset"),a=this._maxLabelSize,s=this._totalTitleSize,e=Math.round(s+i+a+e.margin.right);this._explicitWidth&&(e=this._explicitWidth),this.set("calculatedWidth",e),t.set("x",e-i)}},r.LeftAxisLayout=n,(e=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:4,right:0,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("topTickOffset",0),t.set("bottomTickOffset",0),e){case"inside":t.set("leftTickOffset",i),t.set("rightTickOffset",0);break;case"outside":t.set("leftTickOffset",0),t.set("rightTickOffset",i);break;case"cross":t.set("rightTickOffset",a),t.set("leftTickOffset",a);break;default:t.set("leftTickOffset",0),t.set("rightTickOffset",0)}},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,i={x:a.left,y:e.y},e={x:a.left+s,y:e.y};this.drawLine(t,i,e)},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,t=i.length,i=i.display,e={x:e.left,y:e.top};return"inside"===i?e.x+=t:"cross"===i&&(e.x+=t/2),e},getLabelPoint:function(t){return{x:t.x+this.get("rightTickOffset"),y:t.y}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,n=i.sinRadians,i=i.cosRadians,e=0===a?t:90===s?e:i*t+n*e;this._maxLabelSize=Math.max(this._maxLabelSize,e)},getExplicitlySized:function(t){if(this._explicitWidth){var e=this._explicitWidth,i=this._totalTitleSize,a=this.get("rightTickOffset"),t=t.label.margin.right;return this._maxLabelSize=e-(a+t+i),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=t.offsetWidth,l=t.offsetHeight,o=i.right-i.left,i=this.get("width")-.5*n-.5*o,o=.5*e.get("height")-.5*l;s.labelWidth=n,s.labelHeight=l,a&&a.right&&(i-=a.left),s.x=i,s.y=o,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),n=this.get("rightTickOffset"),l=i.label,o=0,h=e.x,r=e.y,f=this._labelRotationProps,g=f.rot,i=f.absRot,e=this._labelWidths[a],a=this._labelHeights[a];0===g?r-=a*s:90===g?(h-=.5*e,r=r-a+e/2-e*s):-90===g?(r=r+e/2-e*s,h-=.5*e):(r-=a*s,h+=a/2*i/90),h+=o=l.margin&&l.margin.left?l.margin.left:o,h+=n,f.labelWidth=e,f.labelHeight=a,f.x=Math.round(h),f.y=Math.round(r),this._rotate(t,f)},_setRotationCoords:function(t){var e=t.rot,i=t.absRot,a=0,s=0,n=t.labelWidth,l=t.labelHeight;0===e?s=.5*l:90===e?(a=.5*n,s=l):a=-90===e?.5*n:(s=.5*l,l/2*i/90),t.x-=a,t.y-=s},_getTransformOrigin:function(t){t=0===t?[0,0]:90===t?[.5,1]:-90===t?[.5,0]:[0,.5];return t},offsetNodeForTick:function(t){var e=this.get("leftTickOffset");t.setStyle("left",0-e)},setCalculatedSize:function(){var t=this,e=t.get("styles").label,i=this._totalTitleSize,e=Math.round(t.get("rightTickOffset")+t._maxLabelSize+i+e.margin.left);this._explicitWidth&&(e=this._explicitWidth),t.set("calculatedWidth",e),t.get("contentBox").setStyle("width",e)}},r.RightAxisLayout=e,(i=function(){}).prototype={_getDefaultMargins:function(){return{top:4,left:0,right:0,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("leftTickOffset",0),t.set("rightTickOffset",0),e){case"inside":t.set("topTickOffset",i),t.set("bottomTickOffset",0);break;case"outside":t.set("topTickOffset",0),t.set("bottomTickOffset",i);break;case"cross":t.set("topTickOffset",a),t.set("bottomTickOffset",a);break;default:t.set("topTickOffset",0),t.set("bottomTickOffset",0)}},
getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,t=i.length,i=i.display,e={x:0,y:e.top};return"inside"===i?e.y+=t:"cross"===i&&(e.y+=t/2),e},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,i={x:e.x,y:a.top},a={x:e.x,y:s+a.top};this.drawLine(t,i,a)},getLabelPoint:function(t){return{x:t.x,y:t.y+this.get("bottomTickOffset")}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,n=i.sinRadians,i=i.cosRadians,e=0===a?e:90===s?t:n*t+i*e;this._maxLabelSize=Math.max(this._maxLabelSize,e)},getExplicitlySized:function(t){if(this._explicitHeight){var e=this._explicitHeight,i=this._totalTitleSize,a=this.get("bottomTickOffset"),t=t.label.margin.right;return this._maxLabelSize=e-(a+t+i),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=i.bottom-i.top,l=t.offsetWidth,o=t.offsetHeight,i=.5*e.get("width")-.5*l,n=e.get("height")-o/2-n/2;s.labelWidth=l,s.labelHeight=o,a&&a.bottom&&(n-=a.bottom),s.x=i,s.y=n,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=this,n=parseFloat(i.label.offset),l=s.get("bottomTickOffset"),o=i.label,h=0,r=s._labelRotationProps,f=r.rot,g=r.absRot,c=Math.round(e.x),i=Math.round(e.y),e=s._labelWidths[a],a=s._labelHeights[a];90===f?(i-=a/2*f/90,c=c+a/2-a*n):-90===f?(i-=a/2*g/90,c=c-e+a/2-a*n):0<f?(c=c+a/2-a*n,i-=a/2*f/90):f<0?(c=c-e+a/2-a*n,i-=a/2*g/90):c-=e*n,i+=h=o.margin&&o.margin.top?o.margin.top:h,i+=l,r.labelWidth=e,r.labelHeight=a,r.x=c,r.y=i,s._rotate(t,r)},_setRotationCoords:function(t){var e,i=t.rot,a=t.absRot,s=t.labelWidth,n=t.labelHeight,s=0<i?(e=0,n/2*i/90):i<0?(e=s,n/2*a/90):(e=.5*s,0);t.x-=e,t.y-=s},_getTransformOrigin:function(t){t=0<t?[0,.5]:t<0?[1,.5]:[0,0];return t},offsetNodeForTick:function(t){t.setStyle("top",0-this.get("topTickOffset"))},setCalculatedSize:function(){var t=this,e=t.get("styles").label,i=t._totalTitleSize,i=Math.round(t.get("bottomTickOffset")+t._maxLabelSize+e.margin.top+i);t._explicitHeight&&(i=t._explicitHeight),t.set("calculatedHeight",i)}},r.BottomAxisLayout=i,(a=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:0,right:0,bottom:4}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("leftTickOffset",0),t.set("rightTickOffset",0),e){case"inside":t.set("bottomTickOffset",i),t.set("topTickOffset",0);break;case"outside":t.set("bottomTickOffset",0),t.set("topTickOffset",i);break;case"cross":t.set("topTickOffset",a),t.set("bottomTickOffset",a);break;default:t.set("topTickOffset",0),t.set("bottomTickOffset",0)}},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,t=i.length,i=i.display,e={x:0,y:e.top};return"outside"===i?e.y+=t:"cross"===i&&(e.y+=t/2),e},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,i={x:e.x,y:a.top},a={x:e.x,y:s+a.top};this.drawLine(t,i,a)},getLabelPoint:function(t){return{x:t.x,y:t.y-this.get("topTickOffset")}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,n=i.sinRadians,i=i.cosRadians,e=0===a?e:90===s?t:n*t+i*e;this._maxLabelSize=Math.max(this._maxLabelSize,e)},getExplicitlySized:function(t){if(this._explicitHeight){var e=this._explicitHeight,i=this._totalTitleSize,a=this.get("topTickOffset"),t=t.label.margin.right;return this._maxLabelSize=e-(a+t+i),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=t.offsetWidth,l=t.offsetHeight,o=i.bottom-i.top,i=.5*e.get("width")-.5*n,o=o/2-l/2;s.labelWidth=n,s.labelHeight=l,a&&a.top&&(o+=a.top),s.x=i,s.y=o,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),n=this._totalTitleSize,l=this._maxLabelSize,o=e.x,h=e.y+n+l,i=this._labelRotationProps,e=i.rot,n=i.absRot,l=this._labelWidths[a],a=this._labelHeights[a];0===e?(o-=l*s,h-=a):90===e?(o=o-l+a/2-a*s,h-=.5*a):-90===e?(o=o+a/2-a*s,h-=.5*a):0<e?(o=o-l+a/2-a*s,h-=a-a*e/180):(o=o+a/2-a*s,h-=a-a*n/180),i.x=Math.round(o),i.y=Math.round(h),i.labelWidth=l,i.labelHeight=a,this._rotate(t,i)},_setRotationCoords:function(t){var e,i=t.rot,a=t.absRot,s=t.labelWidth,n=t.labelHeight,a=0===i?(e=.5*s,n):90===i?(e=s,.5*n):-90===i?.5*n:0<i?(e=s,n-n*i/180):n-n*a/180;t.x-=e,t.y-=a},_getTransformOrigin:function(t){t=0===t?[0,0]:90===t||-90!==t&&0<t?[1,.5]:[0,.5];return t},offsetNodeForTick:function(){},setCalculatedSize:function(){var t=this,e=t.get("graphic"),i=t.get("styles").label.margin.bottom+t._maxLabelSize,a=t._totalTitleSize,s=this.get("topTickOffset"),a=Math.round(s+i+a);this._explicitHeight&&(a=this._explicitHeight),t.set("calculatedHeight",a),e.set("y",a-s)}},r.TopAxisLayout=a,r.Axis=r.Base.create("axis",r.Widget,[r.AxisBase],{getLabelByIndex:function(t,e){var i=this.get("position");return this._getLabelByIndex(t,e,"left"===i||"right"===i?"vertical":"horizontal")},bindUI:function(){this.after("dataReady",r.bind(this._dataChangeHandler,this)),this.after("dataUpdate",r.bind(this._dataChangeHandler,this)),this.after("stylesChange",this._updateHandler),this.after("overlapGraphChange",this._updateHandler),this.after("positionChange",this._positionChangeHandler),this.after("widthChange",this._handleSizeChange),this.after("heightChange",this._handleSizeChange),this.after("calculatedWidthChange",this._handleSizeChange),this.after("calculatedHeightChange",this._handleSizeChange)},_calculatedWidth:0,_calculatedHeight:0,_dataChangeHandler:function(){this.get("rendered")&&this._drawAxis()},_positionChangeHandler:function(t){this._updateGraphic(t.newVal),this._updateHandler()},_updateGraphic:function(t){var e=this.get("graphic");"none"===t?e&&e.destroy():e||this._setCanvas()},_updateHandler:function(){this.get("rendered")&&this._drawAxis()},renderUI:function(){this._updateGraphic(this.get("position"))},syncUI:function(){var t,e,i,a,s=this._layout;if(s)for(a in t=s._getDefaultMargins(),e=(s=this.get(
"styles")).label.margin,i=s.title.margin,t)t.hasOwnProperty(a)&&(e[a]=(e[a]===undefined?t:e)[a],i[a]=(i[a]===undefined?t:i)[a]);this._drawAxis()},_setCanvas:function(){var t=this.get("contentBox"),e=this.get("boundingBox"),i=this.get("position"),a=this._parentNode,s=this.get("width"),n=this.get("height");e.setStyle("position","absolute"),e.setStyle("zIndex",2),s=s?s+"px":a.getStyle("width"),n=n?n+"px":a.getStyle("height"),"top"===i||"bottom"===i?t.setStyle("width",s):t.setStyle("height",n),t.setStyle("position","relative"),t.setStyle("left","0px"),t.setStyle("top","0px"),this.set("graphic",new r.Graphic),this.get("graphic").render(t)},_getDefaultStyles:function(){var t={majorTicks:{display:"inside",length:4,color:"#dad8c9",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#dad8c9",weight:1},line:{weight:1,color:"#dad8c9",alpha:1},majorUnit:{determinant:"count",count:11,distance:75},top:"0px",left:"0px",width:"100px",height:"100px",label:{color:"#808080",alpha:1,fontSize:"85%",rotation:0,offset:.5,margin:{top:undefined,right:undefined,bottom:undefined,left:undefined}},title:{color:"#808080",alpha:1,fontSize:"85%",rotation:undefined,margin:{top:undefined,right:undefined,bottom:undefined,left:undefined}},hideOverlappingLabelTicks:!1};return r.merge(r.Renderer.prototype._getDefaultStyles(),t)},_handleSizeChange:function(t){var e=t.attrName,i=this.get("position"),a="left"===i||"right"===i,t=this.get("contentBox"),i="bottom"===i||"top"===i;t.setStyle("width",this.get("width")),t.setStyle("height",this.get("height")),(i&&"width"===e||a&&"height"===e)&&this._drawAxis()},_layoutClasses:{top:a,bottom:i,left:n,right:e},drawLine:function(t,e,i){t.moveTo(e.x,e.y),t.lineTo(i.x,i.y)},_getTextRotationProps:function(t){if(t.rotation===undefined)switch(this.get("position")){case"left":t.rotation=-90;break;case"right":t.rotation=90;break;default:t.rotation=0}var e=Math.min(90,Math.max(-90,t.rotation)),i=Math.abs(e),a=Math.PI/180;return{rot:e,absRot:i,radCon:a,sinRadians:parseFloat(parseFloat(Math.sin(i*a)).toFixed(8)),cosRadians:parseFloat(parseFloat(Math.cos(i*a)).toFixed(8)),textAlpha:t.alpha}},_drawAxis:function(){if(this._drawing)this._callLater=!0;else{if(this._drawing=!0,this._callLater=!1,this._layout){var t,e,i,a,s,n,l,o,h,r,f,g,c=this.get("styles"),d=c.line,u=c.label,p=c.majorTicks,b="none"!==p.display,_=0,y=this._layout,x=this.get("labelFunction"),m=this.get("labelFunctionScope"),T=this.get("labelFormat"),k=this.get("graphic"),O=this.get("path"),v=this.get("position"),S=this._labelValuesExplicitlySet?this.get("labelValues"):null,L="left"===v||"right"===v?"vertical":"horizontal";if(this._labelWidths=[],this._labelHeights=[],k.set("autoDraw",!1),O.clear(),O.set("stroke",{weight:d.weight,color:d.color,opacity:d.alpha}),this._labelRotationProps=this._getTextRotationProps(u),this._labelRotationProps.transformOrigin=y._getTransformOrigin(this._labelRotationProps.rot),y.setTickOffsets.apply(this),v=this.getLength(),t=this.getTotalMajorUnits(),k=this.getEdgeOffset(t,v),this.set("edgeOffset",k),d=y.getLineStart.apply(this),L="vertical"==L?(g="x","y"):(g="y","x"),l=(S=this._getLabelData(d[g],g,L,this.get("minimum"),this.get("maximum"),k,v-k-k,t,S)).points,n=S.values,t=l.length,this._labelValuesExplicitlySet||this.set("labelValues",n,{src:"internal"}),this.get("hideFirstMajorUnit")&&(o=l.shift(),r=n.shift(),t-=1),this.get("hideLastMajorUnit")&&(h=l.pop(),f=n.pop(),t-=1),t<1)this._clearLabelCache();else{if(this.drawLine(O,d,this.getLineEnd(d)),b)for((a=this.get("tickPath")).clear(),a.set("stroke",{weight:p.weight,color:p.color,opacity:p.alpha}),_=0;_<t;_+=1)l[_]&&y.drawTick.apply(this,[a,l[_],p]);for(this._createLabelCache(),this._maxLabelSize=0,this._totalTitleSize=0,this._titleSize=0,this._setTitle(),s=y.getExplicitlySized.apply(this,[c]),_=0;_<t;_+=1)l[_]&&(i=this.getLabel(u),this._labels.push(i),this.get("appendLabelFunction")(i,x.apply(m,[n[_],T])),e=Math.round(i.offsetWidth),i=Math.round(i.offsetHeight),s||this._layout.updateMaxLabelSize.apply(this,[e,i]),this._labelWidths.push(e),this._labelHeights.push(i));for(this._clearLabelCache(),this.get("overlapGraph")&&y.offsetNodeForTick.apply(this,[this.get("contentBox")]),y.setCalculatedSize.apply(this),this._titleTextField&&this._layout.positionTitle.apply(this,[this._titleTextField]),t=this._labels.length,_=0;_<t;++_)y.positionLabel.apply(this,[this.get("labels")[_],l[_],c,_]);o&&l.unshift(o),h&&l.push(h),r&&n.unshift(r),f&&n.push(f),this._tickPoints=l}}this._drawing=!1,this._callLater?this._drawAxis():(this._updatePathElement(),this.fire("axisRendered"))}},_setTotalTitleSize:function(t){var e,i=this._titleTextField,a=i.offsetWidth,s=i.offsetHeight,n=this._titleRotationProps.rot,l=t.margin,i=this.get("position"),t=new r.Matrix;t.rotate(n),t=t.getContentRect(a,s),"left"===i||"right"===i?(e=t.right-t.left,l&&(e+=l.left+l.right)):(e=t.bottom-t.top,l&&(e+=l.top+l.bottom)),this._titleBounds=t,this._totalTitleSize=e},_updatePathElement:function(){var t=this._path,e=this._tickPath,i=!1,a=this.get("graphic");t&&(i=!0,t.end()),e&&(i=!0,e.end()),i&&a._redraw()},_setTitle:function(){var t,e,i,a=this.get("title"),s=this._titleTextField;if(null!==a&&a!==undefined){for(t in i={rotation:"rotation",margin:"margin",alpha:"alpha"},e=this.get("styles").title,s?f.createElementNS||s.style.filter&&(s.style.filter=null):((s=f.createElement("span")).style.display="block",s.style.whiteSpace="nowrap",s.setAttribute("class","axisTitle"),this.get("contentBox").append(s)),s.style.position="absolute",e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(s.style[t]=e[t]);this.get("appendTitleFunction")(s,a),this._titleTextField=s,this._titleRotationProps=this._getTextRotationProps(e),this._setTotalTitleSize(e)}else s&&((a=s.parentNode)&&a.removeChild(s),this._titleTextField=null,this._totalTitleSize=0)},getLabel:function(t){var e,i,a=this._labelCache,s={rotation:"rotation",margin:"margin",alpha:"alpha"};for(e in a&&0<a.length?i=a.shift():((i=f.createElement("span")
).className=r.Lang.trim([i.className,"axisLabel"].join(" ")),this.get("contentBox").append(i)),f.createElementNS||i.style.filter&&(i.style.filter=null),i.style.display="block",i.style.whiteSpace="nowrap",i.style.position="absolute",t)t.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&(i.style[e]=t[e]);return i},_createLabelCache:function(){if(this._labels)for(;0<this._labels.length;)this._labelCache.push(this._labels.shift());else this._clearLabelCache();this._labels=[]},_clearLabelCache:function(){if(this._labelCache)for(var t,e=this._labelCache.length,i=0;i<e;++i)t=this._labelCache[i],this._removeChildren(t),r.Event.purgeElement(t,!0),t.parentNode.removeChild(t);this._labelCache=[]},getLineEnd:function(t){var e=this.get("width"),i=this.get("height"),a=this.get("position");return"top"===a||"bottom"===a?{x:e,y:t.y}:{x:t.x,y:i}},getLength:function(){var t=this.get("styles").padding,e=this.get("width"),i=this.get("height"),a=this.get("position"),t="top"===a||"bottom"===a?e-(t.left+t.right):i-(t.top+t.bottom);return t},getFirstPoint:function(t){var e=this.get("styles"),i=this.get("position"),e=e.padding,t={x:t.x,y:t.y};return"top"===i||"bottom"===i?t.x+=e.left+this.get("edgeOffset"):t.y+=this.get("height")-(e.top+this.get("edgeOffset")),t},_rotate:function(t,e){var i,a,s=e.rot,n=e.x,l=e.y,o=new r.Matrix,h=e.transformOrigin||[0,0];f.createElementNS?(o.translate(n,l),o.rotate(s),c.setStyle(t,"transformOrigin",100*h[0]+"% "+100*h[1]+"%"),c.setStyle(t,"transform",o.toCSSText())):(a=e.textAlpha,g.isNumber(a)&&a<1&&-1<a&&!isNaN(a)&&(i="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*a)+")"),0!==s?(o.rotate(s),a=o.getContentRect(e.labelWidth,e.labelHeight),o.init(),o.translate(a.left,a.top),o.translate(n,l),this._simulateRotateWithTransformOrigin(o,s,h,e.labelWidth,e.labelHeight),i?i+=" ":i="",i+=o.toFilterText(),t.style.left=o.dx+"px",t.style.top=o.dy+"px"):(t.style.left=n+"px",t.style.top=l+"px"),i&&(t.style.filter=i))},_simulateRotateWithTransformOrigin:function(t,e,i,a,s){a=i[0]*a,s=i[1]*s,a=isNaN(a)?0:a,s=isNaN(s)?0:s;t.translate(a,s),t.rotate(e),t.translate(-a,-s)},getMaxLabelBounds:function(){return this._getLabelBounds(this.getMaximumValue())},getMinLabelBounds:function(){return this._getLabelBounds(this.getMinimumValue())},_getLabelBounds:function(t){var e=this._layout,i=this.get("styles").label,a=new r.Matrix,s=this._getTextRotationProps(i);return s.transformOrigin=e._getTransformOrigin(s.rot),i=this.getLabel(i),this.get("appendLabelFunction")(i,this.get("labelFunction").apply(this,[t,this.get("labelFormat")])),s.labelWidth=i.offsetWidth,s.labelHeight=i.offsetHeight,this._removeChildren(i),r.Event.purgeElement(i,!0),i.parentNode.removeChild(i),s.x=0,s.y=0,e._setRotationCoords(s),a.translate(s.x,s.y),this._simulateRotateWithTransformOrigin(a,s.rot,s.transformOrigin,s.labelWidth,s.labelHeight),a.getContentRect(s.labelWidth,s.labelHeight)},_removeChildren:function(t){if(t.hasChildNodes())for(var e;t.firstChild;)e=t.firstChild,this._removeChildren(e),t.removeChild(e)},destructor:function(){var t,e=this.get("contentBox").getDOMNode(),i=this.get("labels"),a=this.get("graphic");if(0<(i?i.length:0))for(;0<i.length;)t=i.shift(),this._removeChildren(t),e.removeChild(t),0;a&&a.destroy()},_maxLabelSize:0,_setText:function(t,e){t.innerHTML="",g.isNumber(e)?e+="":e=e||"",s(e)&&(e=f.createTextNode(e)),t.appendChild(e)},getTotalMajorUnits:function(){var t,e=this.get("styles").majorUnit;return"count"===e.determinant?t=e.count:"distance"===e.determinant&&(t=this.getLength()/e.distance+1),t},getMajorUnitDistance:function(t,e,i){var a;return"count"===i.determinant?(this.get("calculateEdgeOffset")||(t-=1),a=e/t):"distance"===i.determinant&&(a=i.distance),a},_hasDataOverflow:function(){return!(!this.get("setMin")&&!this.get("setMax"))},getMinimumValue:function(){return this.get("minimum")},getMaximumValue:function(){return this.get("maximum")}},{ATTRS:{width:{lazyAdd:!1,getter:function(){return this._explicitWidth||this._calculatedWidth},setter:function(t){return this._explicitWidth=t}},height:{lazyAdd:!1,getter:function(){return this._explicitHeight||this._calculatedHeight},setter:function(t){return this._explicitHeight=t}},calculatedWidth:{getter:function(){return this._calculatedWidth},setter:function(t){return this._calculatedWidth=t}},calculatedHeight:{getter:function(){return this._calculatedHeight},setter:function(t){return this._calculatedHeight=t}},edgeOffset:{value:0},graphic:{},path:{readOnly:!0,getter:function(){var t;return this._path||(t=this.get("graphic"))&&(this._path=t.addShape({type:"path"})),this._path}},tickPath:{readOnly:!0,getter:function(){var t;return this._tickPath||(t=this.get("graphic"))&&(this._tickPath=t.addShape({type:"path"})),this._tickPath}},node:{},position:{lazyAdd:!1,setter:function(t){var e=this._layoutClasses[t];return t&&"none"!==t&&(this._layout=new e),t}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},labels:{readOnly:!0,getter:function(){return this._labels}},tickPoints:{readOnly:!0,getter:function(){return"none"===this.get("position")?this.get("styles").majorUnit.count:this._tickPoints}},overlapGraph:{value:!0,validator:function(t){return g.isBoolean(t)}},maxLabelSize:{getter:function(){return this._maxLabelSize},setter:function(t){return this._maxLabelSize=t}},title:{value:null},appendLabelFunction:{valueFn:function(){return this._setText}},appendTitleFunction:{valueFn:function(){return this._setText}},labelValues:{lazyAdd:!1,setter:function(t){var e=arguments[2];return!t||e&&e.src&&"internal"===e.src?this._labelValuesExplicitlySet=!1:this._labelValuesExplicitlySet=!0,t}},hideFirstMajorUnit:{value:!1},hideLastMajorUnit:{value:!1}}}),r.AxisType=r.Base.create("baseAxis",r.Axis,[],{})},"@VERSION@",{requires:["dom","widget","widget-position","widget-stack","graphics","axis-base"]});