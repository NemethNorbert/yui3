YUI.add("slider-base",function(a,t){var e=a.Attribute.INVALID_VALUE;function i(){i.superclass.constructor.apply(this,arguments)}a.SliderBase=a.extend(i,a.Widget,{initializer:function(){this.axis=this.get("axis"),this._key={dim:"y"===this.axis?"height":"width",minEdge:"y"===this.axis?"top":"left",maxEdge:"y"===this.axis?"bottom":"right",xyIndex:"y"===this.axis?1:0},this.publish("thumbMove",{defaultFn:this._defThumbMoveFn,queuable:!0})},renderUI:function(){var t=this.get("contentBox");this.rail=this.renderRail(),this._uiSetRailLength(this.get("length")),this.thumb=this.renderThumb(),this.rail.appendChild(this.thumb),t.appendChild(this.rail),t.addClass(this.getClassName(this.axis))},renderRail:function(){var t=this.getClassName("rail","cap",this._key.minEdge),i=this.getClassName("rail","cap",this._key.maxEdge);return a.Node.create(a.Lang.sub(this.RAIL_TEMPLATE,{railClass:this.getClassName("rail"),railMinCapClass:t,railMaxCapClass:i}))},_uiSetRailLength:function(t){this.rail.setStyle(this._key.dim,t)},renderThumb:function(){this._initThumbUrl();var t=this.get("thumbUrl");return a.Node.create(a.Lang.sub(this.THUMB_TEMPLATE,{thumbClass:this.getClassName("thumb"),thumbShadowClass:this.getClassName("thumb","shadow"),thumbImageClass:this.getClassName("thumb","image"),thumbShadowUrl:t,thumbImageUrl:t,thumbAriaLabelId:this.getClassName("label",a.guid())}))},_onThumbClick:function(t){this.thumb.focus()},bindUI:function(){var t=this.get("boundingBox"),i=a.UA.opera?"press:":"down:",e=i+"37,39",s=i+"37+meta,39+meta";t.on("key",this._onDirectionKey,i+"38,40,33,34,35,36",this),t.on("key",this._onLeftRightKey,e,this),t.on("key",this._onLeftRightKeyMeta,s,this),this.thumb.on("click",this._onThumbClick,this),this._bindThumbDD(),this._bindValueLogic(),this.after("disabledChange",this._afterDisabledChange),this.after("lengthChange",this._afterLengthChange)},_incrMinor:function(){this.set("value",this.get("value")+this.get("minorStep"))},_decrMinor:function(){this.set("value",this.get("value")-this.get("minorStep"))},_incrMajor:function(){this.set("value",this.get("value")+this.get("majorStep"))},_decrMajor:function(){this.set("value",this.get("value")-this.get("majorStep"))},_setToMin:function(t){this.set("value",this.get("min"))},_setToMax:function(t){this.set("value",this.get("max"))},_onDirectionKey:function(t){if(t.preventDefault(),!1===this.get("disabled"))switch(t.charCode){case 38:this._incrMinor();break;case 40:this._decrMinor();break;case 36:this._setToMin();break;case 35:this._setToMax();break;case 33:this._incrMajor();break;case 34:this._decrMajor()}},_onLeftRightKey:function(t){if(t.preventDefault(),!1===this.get("disabled"))switch(t.charCode){case 37:this._decrMinor();break;case 39:this._incrMinor()}},_onLeftRightKeyMeta:function(t){if(t.preventDefault(),!1===this.get("disabled"))switch(t.charCode){case 37:this._setToMin();break;case 39:this._setToMax()}},_bindThumbDD:function(){var t={constrain:this.rail};t["stick"+this.axis.toUpperCase()]=!0,this._dd=new a.DD.Drag({node:this.thumb,bubble:!1,on:{"drag:start":a.bind(this._onDragStart,this)},after:{"drag:drag":a.bind(this._afterDrag,this),"drag:end":a.bind(this._afterDragEnd,this)}}),this._dd.plug(a.Plugin.DDConstrained,t)},_bindValueLogic:function(){},_uiMoveThumb:function(t,i){this.thumb&&(this.thumb.setStyle(this._key.minEdge,t+"px"),(i=i||{}).offset=t,this.fire("thumbMove",i))},_onDragStart:function(t){this.fire("slideStart",{ddEvent:t,originEvent:t})},_afterDrag:function(t){var i=t.info.xy[this._key.xyIndex],e=t.target.con._regionCache[this._key.minEdge];this.fire("thumbMove",{offset:i-e,ddEvent:t,originEvent:t})},_afterDragEnd:function(t){this.fire("slideEnd",{ddEvent:t,originEvent:t})},_afterDisabledChange:function(t){this._dd.set("lock",t.newVal)},_afterLengthChange:function(t){this.get("rendered")&&(this._uiSetRailLength(t.newVal),this.syncUI())},syncUI:function(){this._dd.con.resetCache(),this._syncThumbPosition(),this.thumb.set("aria-valuemin",this.get("min")),this.thumb.set("aria-valuemax",this.get("max")),this._dd.set("lock",this.get("disabled"))},_syncThumbPosition:function(){},_setAxis:function(t){return"x"===(t=(t+"").toLowerCase())||"y"===t?t:e},_setLength:function(t){t=(t+"").toLowerCase();var i=parseFloat(t,10),t=t.replace(/[\d\.\-]/g,"")||this.DEF_UNIT;return 0<i?i+t:e},_initThumbUrl:function(){var t,i;this.get("thumbUrl")||(t=this.getSkinName()||"sam",0===(i=a.config.base).indexOf("http://yui.yahooapis.com/combo")&&(i="http://yui.yahooapis.com/"+a.version+"/build/"),this.set("thumbUrl",i+"slider-base/assets/skins/"+t+"/thumb-"+this.axis+".png"))},BOUNDING_TEMPLATE:"<span></span>",CONTENT_TEMPLATE:"<span></span>",RAIL_TEMPLATE:'<span class="{railClass}"><span class="{railMinCapClass}"></span><span class="{railMaxCapClass}"></span></span>',THUMB_TEMPLATE:'<span class="{thumbClass}" aria-labelledby="{thumbAriaLabelId}" aria-valuetext="" aria-valuemax="" aria-valuemin="" aria-valuenow="" role="slider" tabindex="0"><img src="{thumbShadowUrl}" alt="Slider thumb shadow" class="{thumbShadowClass}"><img src="{thumbImageUrl}" alt="Slider thumb" class="{thumbImageClass}"></span>'},{NAME:"sliderBase",ATTRS:{axis:{value:"x",writeOnce:!0,setter:"_setAxis",lazyAdd:!1},length:{value:"150px",setter:"_setLength"},thumbUrl:{value:null,validator:a.Lang.isString}}})},"@VERSION@",{requires:["widget","dd-constrain","event-key"],skinnable:!0});